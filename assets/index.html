<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="//cdn.bootcss.com/jquery/3.0.0-beta1/jquery.js"></script>
</head>

<body>
  <div>
    <button class="getFileList">获取文件列表</button>
  </div>
  <div>
    <label for="">父亲id</label>
    <input type="text" class="parentId">
    <label for="">名字</label>
    <input type="text" class="filename">
    <label for="">类型</label>
    <input type="text" class="filetype">
    <button class="addFile">添加文件</button>
  </div>
  <div>
    <label for="">fileId</label>
    <input type="text" class="del-file-id">
    <button class="delFile">删除文件</button>
  </div>
  <script>
  $(".getFileList").click(function() {
    $.ajax({
      url: "/api/getFileList",
      method: "GET",
      data: {
        id: -1
      }
    }).then(function(data) {
      console.log(data)
    });
  });
  $(".addFile").click(function() {
    var parentId = $(".parentId").val();
    var filename = $(".filename").val();
    var filetype = $(".filetype").val();
    $.ajax({
      url: "/api/addFile",
      method: "POST",
      data: {
        parentId: parentId,
        name: filename,
        type: filetype
      }
    }).then(function(data) {
      console.log(data);
    });
  });
  $(".delFile").click(function() {
    var fileId = $(".del-file-id").val();
    $.ajax({
      url: "/api/delFile/" + fileId,
      method: "DELETE",
      data: {
        id: fileId
      }
    }).then(function(data) {
      console.log(data);
    });
  });
  </script>
</body>

</html>
